<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml">
<head>

    <title>Show preview font</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/testingPage.css">
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/selectionInput.css">
    <script type="text/javascript" src="js/examination.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">

    <style>
        /* CSS comes here */
        body {
            font-family: arial;
        }
        button {
            padding:10px;
            background-color:#6a67ce;
            color: #FFFFFF;
            border: 10px;
            cursor:pointer;
            border-radius: 5px;
        }
        #output {
            background-color:#F9F9F9;
            padding:10px;
            width: 100%;
            margin-top:20px;
            line-height:30px;
        }
        #btn-speech{
            /*padding:10px;*/
            /*border: 10px;*/
            margin-bottom:11px;
        }
        .hide {
            display:none;
        }
        .show {
            display:block;
        }
    </style>

</head>
<body onload="show_modal_onload_font3()">
    <br><br><br>
    <div class="center" style="display: none" id="list" >
    <div style="font-size: 250% ;display: block" id="demo1" value=""></div>
    <div style="font-size: 250% ;display: none" id="demo2" value=""></div>
    <div style="font-size: 250% ;display: none" id="demo3" value=""></div>
    <div style="font-size: 250% ;display: none" id="demo4" value=""></div>
    <div style="font-size: 250% ;display: none" id="demo5" value=""></div>
    <div style="font-size: 250% ;display: none" id="demo6" value=""></div>
    <div style="font-size: 250% ;display: none" id="demo7" value=""></div>
    <br>

    <label>ใส่คำตอบ</label>
    <input type="text" id="Answer" onchange="" style="height:45px; font-size:30pt; width:250px;">
    <input type="text" id="Answer2" onchange="" style="height:45px; font-size:30pt; width:250px;"><button type="button" class="btn btn-outline-secondary" onclick="runSpeechRecognition()" id="btn-speech">
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="31" fill="currentColor" class="bi bi-mic" viewBox="0 0 16 16">
        <path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"/>
        <path d="M10 8a2 2 0 1 1-4 0V3a2 2 0 1 1 4 0v5zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3z"/>
    </svg>
    <span class="visually-hidden"></span>
</button>
    <br>
    <br>
    <button class="btn btn-secondary"  id="big-button2" onclick="backline()">Back</button>
    <button class="btn btn-primary" id="big-button1" onclick="nextline()">Next</button>
    <div id="output" class=""></div>
    <button class="btn btn-primary" id="btnOk" onclick="checkSpeechText()">ยืนยันคำตอบ</button>
    <br>&nbsp; <span id="action"></span></p>

</div>



</div>

<!-- Button trigger modal -->
<button id="btn_show_modal" data-toggle="modal" data-target="#staticBackdrop" hidden>open modal</button>
<button onclick="show_modal()" hidden >show modal</button>
<!--        <button  id="btn_link" type="button" class="btn btn-success" ><a id="link_to_result" href="../examinationResult">Close</a></button>-->
<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">แจ้งเตือน</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <!--                        <span aria-hidden="true">&times;</span>-->
                </button>
            </div>
            <div class="modal-body">
                จบการทดสอบวัดสายตา
            </div>
            <div class="modal-footer">
                <a href="examinationResult" class="btn btn-primary">ตกลง</a>
            </div>
        </div>
    </div>
</div>
<!-- Button trigger modal -->
<button id="btn_show_modal2" data-toggle="modal" data-target="#staticBackdrop2" hidden>open modal</button>
<button onclick="show_modal_onload_font3()" hidden >show modal</button>
<!--        <button  id="btn_link" type="button" class="btn btn-success" ><a id="link_to_result" href="../examinationResult">Close</a></button>-->
<!-- Modal -->
<div class="modal fade" id="staticBackdrop2" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel2" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel2">กรุณาเลือกวิธีการตอบ</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <!--                        <span aria-hidden="true">&times;</span>-->
                </button>
            </div>
            <div class="modal-body">
                - เลือกตอบด้วยคีย์บอร์ดหากต้องการพิมพ์ตอบด้วยแป้นพิมพ์ <br>
                - เลือกตอบด้วยเสียงหากต้องการพูดตอบด้วยไมโครโฟน
            </div>
            <div class="modal-footer">
                <a  onclick="" data-dismiss="modal" class="btn btn-primary">ตกลง</a>
            </div>
        </div>

<br><br>
    </div>
</div>
<br><br><br><br><br><br><br>
<form action="" id="selection">
<!--    <label><h2 style="color: black; text-align: center">HN : </h2></label>-->
<!--    <input type="text" id="HN" onchange="" style="height:30px; font-size:20pt; width:200px;" required>-->
    <!--    <input type="text" id="HN" onchange="" style="height:30px; font-size:20pt; width:200px;" required>-->

    <br>
    <h1 style="text-align: center; color: black">เลือกวิธีการตอบ</h1>
    <br><br>
    <div class="row">
        <div class="column" style="width: 50%;text-align: center">
            <div class="card" style="left: 250px;">
                <div class="container" id="hero1">
                    <img class="card-img-top" src="images/keyboard.png" alt="Card image cap" style="width:100%">
                    <h5 class="card-title">ตอบด้วยคีย์บอร์ด</h5>
                    <!--                    <a class="btn btn-primary" onclick="examination()" id="choose">Select</a>-->
                    <a class="btn-get-started scrollto" href="selectInputTextRightEye" id="choose">Select</a>
                </div>
            </div>
        </div>
        <div class="column" style="width: 50%;text-align: center">
            <div class="card" style="left: -250px;">
                <div class="container" id="hero2">
                    <img class="card-img-top" src="images/icon-speak.png" alt="Card image cap" style="width:82%">
                    <h5 class="card-title">ตอบด้วยเสียง</h5>
                    <a class="btn-get-started scrollto" href="selectInputVoiceRightEye">Select</a>
                </div>
            </div>
        </div>
    </div>
</form>
<script th:inline="javascript">
    function ReadData() {
        var optotype = /*[[${optotype}]]*/ 'default';
        var distance = /*[[${distance}]]*/ 'default'; //text=69lenght
        var pass_text = /*[[${passtext}]]*/ 'default';
        var m = 0;
        var value = pass_text;
        var text = "";
        var text2 = "";
        var text3 = "";
        var text4 = "";
        var text5 = "";
        var text6 = "";
        var text7 = "";
        for (var i = 0; i < value.length; i++) {
            if(i < 9){
                text = text + value[i] + "&nbsp";
            }else if(i < 19){
                text2 = text2 + value[i] + "&nbsp";
            }else if(i < 29){
                text3 = text3 + value[i] + "&nbsp";
            }else if(i < 39){
                text4 = text4 + value[i] + "&nbsp";
            }else if(i < 49){
                text5 = text5 + value[i] + "&nbsp";
            }else if(i < 59){
                text6 = text6 + value[i] + "&nbsp";
            }else if(i < 69){
                text7 = text7 + value[i] + "&nbsp";
            }
        }
        document.getElementById('demo1').innerHTML = text;
        document.getElementById('demo2').innerHTML = text2;
        document.getElementById('demo3').innerHTML = text3;
        document.getElementById('demo4').innerHTML = text4;
        document.getElementById('demo5').innerHTML = text5;
        document.getElementById('demo6').innerHTML = text6;
        document.getElementById('demo7').innerHTML = text7;
        changeFontFamily(optotype);
        changeDistance(distance);
    }
    /*]]>*/
</script>
<!--<script>-->
<!--    document.getElementById('inputfile')-->
<!--        .addEventListener('change', function() {-->
<!--            var x = document.getElementById("test1");-->
<!--            var y = document.getElementById("test2");-->
<!--            var result = "";-->
<!--            var fr=new FileReader();-->
<!--            fr.onload=function(){-->
<!--                var jsontext = textContent=fr.result;-->
<!--                var obj = JSON.parse(jsontext);-->
<!--                var example = obj.text;-->
<!--                var distance = obj.distance;-->
<!--                var font = obj.optotype;-->
<!--                var value = example;-->
<!--                var text = "";-->
<!--                var text2 = "";-->
<!--                var text3 = "";-->
<!--                var text4 = "";-->
<!--                var text5 = "";-->
<!--                var text6 = "";-->
<!--                var text7 = "";-->
<!--//        var text8 = "";-->
<!--//        var text9 = "";-->
<!--//        var text10 = "";-->
<!--                for (var i = 0; i < value.length; i++) {-->
<!--                    if(i < 5){-->
<!--                        text = text + value[i] + "\n";-->
<!--                    }else if(i < 10){-->
<!--                        text2 = text2 + value[i] + "\n";-->
<!--                    }else if(i < 15){-->
<!--                        text3 = text3 + value[i] + "\n";-->
<!--                    }else if(i < 20){-->
<!--                        text4 = text4 + value[i] + "\n";-->
<!--                    }else if(i < 25){-->
<!--                        text5 = text5 + value[i] + "\n";-->
<!--                    }else if(i < 30){-->
<!--                        text6 = text6 + value[i] + "\n";-->
<!--                    }else if(i < 35){-->
<!--                        text7 = text7 + value[i] + "\n";-->
<!--                    }-->
<!--//            else if(i < 40){-->
<!--//                text8 = text8 + value[i] + "\n";-->
<!--//            }else if(i < 45){-->
<!--//                text9 = text9 + value[i] + "\n";-->
<!--//            }else if(i < 50){-->
<!--//                text10 = text10 + value[i] + "\n";-->
<!--//            }-->
<!--                }-->

<!--                document.getElementById('demo1').innerHTML = text;-->
<!--                document.getElementById('demo2').innerHTML = text2;-->
<!--                document.getElementById('demo3').innerHTML = text3;-->
<!--                document.getElementById('demo4').innerHTML = text4;-->
<!--                document.getElementById('demo5').innerHTML = text5;-->
<!--                document.getElementById('demo6').innerHTML = text6;-->
<!--                document.getElementById('demo7').innerHTML = text7;-->
<!--                document.getElementById("dis").value = distance;-->
<!--                document.getElementById("font").value = font;-->

<!--                x.style.display = "none";-->
<!--                y.style.display = "block";-->
<!--            }-->

<!--            fr.readAsText(this.files[0]);-->
<!--        })-->
<!--</script>-->

<script>
    function sendAjax(s_wrong,s_acuity){
        var eyeResult = {};
        eyeResult["s_wrong"] = "-"+s_wrong;
        eyeResult["s_acuity"] = s_acuity;
        console.log(eyeResult)
        $.ajax({

            url:"eyeResult",

            type: 'POST',

            data:  JSON.stringify(eyeResult),

            dataType: "json",

            contentType: 'application/json',

            mimeType: 'application/json',

            success: function(data){

                console.log("send success");

                return false;

            }

        });
        show_modal()
    }
</script>
</body>
</html>
